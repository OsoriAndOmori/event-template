window.nhn=window.nhn||{},window.nhn.mobile=window.nhn.mobile||{},window.nhn.mobile.search=window.nhn.mobile.search||{},window.nhn.mobile.search.searchTab=window.nhn.mobile.search.searchTab||{},window.nhn.mobile.search.searchTab.Controller=function(i){function e(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return i[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=i,e.c=s,e.d=function(i,s,o){e.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},e.n=function(i){var s=i&&i.__esModule?function(){return i["default"]}:function(){return i};return e.d(s,"a",s),s},e.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},e.p="",e(e.s=0)}([function(i,e,s){i.exports=s(1)},function(i,e,s){(function(e){var s=eg.Class.extend(eg.Component,{construct:function(i){this.option(i),this._assignVars(),this._initModule(),this._attachListener(),this._init()},_assignVars:function(){this._$base=this.option("$base"),this._sGetProfileApi=this.option("sGetProfileApi"),this._isLogin=!!window.nx_get_cookie("NID_SES"),this._isShowProfileImage=!1,this._sOpenClass="open",this._sImageClass="_profile_image",this._sNickNameClass="_profile_nickname",this._sTriggerClass="_profile_trigger",this._sCloseClass="_close",this._$scroller=this._$base.find("._scroller"),this._$profileImage=this._$base.find("._profile_image"),this._$unfoldLoginLayer=this._$base.find("._unfold_login_layer"),this._$foldLoginLayer=this._$base.find("._fold_login_layer"),this._$close=this._$base.find("._close"),this._$globalProfileImage=e("._profile_image"),this._$globalProfileNickName=e("._profile_nickname"),this._oProfileImageVisible=null},_attachListener:function(){var i=this;this._$base.on("click","._unfold, ._fold",function(e){i._$base.hasClass(i._sOpenClass)?i._$base.removeClass(i._sOpenClass):(i._$base.addClass(i._sOpenClass),i._isLogin&&!i._isProfileImageShow&&i._getProfileImage(!1))}),this._isLogin?this._oProfileImageVisible&&this._oProfileImageVisible.on("change",function(e){!i._isProfileImageShow&&e.visible.length>0&&i._getProfileImage(!1)}):(this._$base.on("click","."+this._sTriggerClass,function(e){e.preventDefault(),i._$base.hasClass(i._sOpenClass)?(i._$unfoldLoginLayer.show(),i._$foldLoginLayer.hide()):(i._$foldLoginLayer.show(),i._$unfoldLoginLayer.hide())}),this._$base.on("click","."+this._sCloseClass,function(e){i._$foldLoginLayer.hide(),i._$unfoldLoginLayer.hide()}))},_initModule:function(){this._isLogin&&(this._oProfileImageVisible=new eg.Visible(this._$scroller,{targetClass:this._sImageClass,expandSize:0}))},_init:function(){var i=this;this._oProfileImageVisible&&(this._oProfileImageVisible.check(),this._$scroller.scroll(function(){i._isProfileImageShow||i._oProfileImageVisible.check(100)}))},_getProfileImage:function(i){var s=this;e.ajax({method:"GET",url:this._sGetProfileApi,dataType:"jsonp",jsonp:"callback",xhrFields:{withCredentials:!0},cache:!0,timeout:3e3}).done(function(e){var o=e.image_url,n=e.nick_name;i?(o&&s._$globalProfileImage.attr("src",o),s._$globalProfileImage.attr("alt",n),s._$globalProfileNickName.html(n)):(o&&s._$profileImage.attr("src",o),s._$profileImage.attr("alt",n)),s._isProfileImageShow=!0})},loadProfileImage:function(){this._getProfileImage(!0)}});i.exports=s}).call(e,s(2))},function(i,e){!function(){i.exports=window.jQuery}()}]);
//# sourceMappingURL=nhn.mobile.search.searchTab.Controller.js.map